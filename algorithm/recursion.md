# 재귀(Recursion)

## 재귀란?

> 자기자신(메서드)를 다시 소환하여 문제를 푸는 방식

## 재귀가 필요한 이유

> 큰 문제를 작은 것들로 쪼개서 해결하므로써 문제를 더 쉽게 해결할 수 있게 해준다

- 트리나 그래프같은 자료 구조에서 재귀는 중요하게 쓰인다.
- 많은 알고리즘에서(divide,conquer,greedy,dynamic programming)에서 사용됨.

## 비하인드 로직

> 재귀된 메소드들은 스택메모리에 쌓이게 되고 나중에 쌓인 것 부터 실행된다.

method(4) -> method(3) -> method(2) -> method(1)

| method(1) | 
|-----------|
| method(2) |
| method(3) |
| method(4) |

| pop        |
|------------|
| method(2)  |
| method(3)  |
| method(4)  |

| pop       |
|-----------|
| pop       |
| method(3) |
| method(4) |

| pop  |
|-----------|
| pop  |
| pop  |
| method(4) |

| pop |
|-----|
| pop |
| pop |
| pop |

## 재귀와 반복문

| 포인트   |재귀|반복|설명|
|-------|---|---|----|
| 공간 효율 |x|o|반복문에는 스택메모리가 사용되지 않는다|
|시간 효율|x|o|재귀는 스택메모리에서 요소들을 pop하고 push를 해야하기 때문에 시간이 더 많이 든다.|
|코드 효율|o|x|문제를 더 작은 단위로 쪼갤 수 있을 때 코드를 더 간단하게 짜기 쉽다.|

## 언제 재귀를 사용해야 될까?

- 문제를 작은 단위로 나눌 수 있을 때
- 시간.공간 효율이 괜찮을 때
- 효율적인 해결책 보다는 빠르게 문제를 해결해야 할 때
- 이진 트리를 트래버스할 때
- 동일한 계산을 반복해야 할 때

## 언제 재귀를 사용하면  안 될까?

- 시간, 공간 복잡도가 중요할 때
- 메모리가 많이 드는게 효율이 좋지 못할 때(ex.phone)

## 재귀 단계

1. 문제를 작은 단위로 쪼개서 재귀 흐름을 파악한다.
2. 재귀를 언제 멈춰야 하는지 기준을 정한다.
3. 예외 케이스를 제한시킨다.

## 피보나치 수열

> 0,1,1,2,3,5,8,13,21,34,55,89

1. 문제를 작은 단위로 쪼개서 재귀 흐름 파악
    - n번째 수는 n-1번째 수와 n-2번째 수의 합이다(n은 정수)
    - f(n) = f(n-1) + f(n-2)
2. 재귀를 언제 멈춰야 하는지 기준을 정한다.
    - n=0이거나 n=1일때는 값이 고정된댜
    - f(0) = 0, f(1) = 1
3. 예외 케이스를 제한한다.
    - n이 음수일 때는 에러값을 리턴한다.

- code
```jshelllanguage
public int f(int n) {
    if (n < 0) {
        return -1;
    }
    if (n == 0 || n == 1){
        return n;
    }
    return f(n-1) + f(n-2);
}
```
f(4) = f(3) + f(2) -> 3
<br/>----------> f(3) = f(2) + f(1) -> 2
<br/>------------------> f(2) = f(1) + f(0) -> 1

